{% extends "layout.html" %}

{% block title %}Heatmap{% endblock %}

{% block content %}
    <h1>Heatmap</h1>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        table {
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid black;
        }

        th, td {
            padding: 15px;
            text-align: center;
        }

        th {
            background-color: #ddd;
        }

        .heatmap-legend {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        #gradient {
            width: 100%;
            height: 20px; /* Adjust the height as needed */
            background: linear-gradient(to right, #0000FF, #FF0000);
        }
    </style>
    <div id="gradient"></div>
   <div class="heatmap-legend">
        <div>Low Clicks</div>
        <div>Medium Clicks</div>
        <div>High Clicks</div>
    </div>
    <table>
        <tr>
            <th></th>
            <th>Customer 1</th>
            <th>Customer 2</th>
            <th>Customer 3</th>
            <th>Customer 4</th>
            <th>Customer 5</th>
            <th>Customer 6</th>
            
        </tr>
        <tr>
            <th>Form Submit</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Money Transfer</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Deposit</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Savings and Checking Accounts</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Online and Mobile Banking</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>ATM Services</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Credit and Debit Cards</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Loans and Mortgages</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Investment Services</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Financial Advisory</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Insurance Services</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Small Business and Commercial Banking</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Wealth Management</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Credit and Financing Services</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Retirement Planning</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Escrow Services</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Notary Services</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Cash Management for Businesses</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Electronic Funds Transfer</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        
        <tr>
            <th>Online and Mobile Banking</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <tr>
            <th>Overdraft Protection</th>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
            <td class="heatmap-cell"></td>
        </tr>
        <!-- Add more rows as needed -->
    </table>

    <div id = "heatmap-analysis">

    </div>

 

    <script>
        const color1 = [0, 0, 255];   // #0000FF
        const color61 = [255, 0, 0];  // #FF0000

        // Sample data for the heatmap (you can replace this with your own data)
        const heatmapData = [
            [20, 5, 15, 10, 20, 30],
            [50, 10, 20, 25, 40, 50],
            [15, 20, 30, 45, 60, 70],
            [10, 25, 45, 60, 70, 80],
            [20, 40, 60, 70, 80, 90],
            [30, 50, 70, 80, 90, 100],
            [100,60,10,1,1,1],
            [14,1,1,1,1,1],
            [40,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1],
            [1,1,1,1,1,1]
        ];

        const heatmapCells = document.querySelectorAll(".heatmap-cell");

        // Function to update the heatmap cells
        function updateHeatmap() {
            heatmapCells.forEach((cell, index) => {
                const clicks = heatmapData[Math.floor(index / 6)][index % 6];
                const percent = clicks / 100; // Adjust this based on your data range
                const r = Math.round(color1[0] + percent * (color61[0] - color1[0]));
                const g = Math.round(color1[1] + percent * (color61[1] - color1[1]));
                const b = Math.round(color1[2] + percent * (color61[2] - color1[2]));
                cell.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
            });
        }

        // Call the function to initialize the heatmap
        updateHeatmap();
    </script>


{% endblock %}


